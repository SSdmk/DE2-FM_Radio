\doxysection{twi.\+h File Reference}
\hypertarget{twi_8h}{}\label{twi_8h}\index{twi.h@{twi.h}}
{\ttfamily \#include $<$avr/io.\+h$>$}\newline
\doxysubsubsection*{Macros}
\begin{Indent}\textbf{ Definícia frekvencií}\par
\begin{DoxyCompactItemize}
\item 
\#define {\bfseries F\+\_\+\+CPU}~16000000
\begin{DoxyCompactList}\small\item\em Frekvencia CPU v Hz, potrebná pre výpočet TWI\+\_\+\+BIT\+\_\+\+RATE\+\_\+\+REG. \end{DoxyCompactList}\item 
\#define {\bfseries F\+\_\+\+SCL}~100000
\begin{DoxyCompactList}\small\item\em I2\+C/\+TWI bitová rýchlosť v Hz. Musí byť väčšia ako približne 31 k\+Hz. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{group__fryza__twi_ga801c158406ca2334b446e442a2debe37}{TWI\+\_\+\+BIT\+\_\+\+RATE\+\_\+\+REG}}~((\mbox{\hyperlink{group__fryza__twi_ga43bafb28b29491ec7f871319b5a3b2f8}{F\+\_\+\+CPU}}/\mbox{\hyperlink{group__fryza__twi_ga7a1c522bed64982971384489ee477bd3}{F\+\_\+\+SCL}} -\/ 16) / 2)
\begin{DoxyCompactList}\small\item\em Hodnota registra rýchlosti TWI (TWBR) podľa vzťahu $ f_{SCL} = \frac{f_{CPU}}{16 + 2 \cdot TWBR} $. \end{DoxyCompactList}\end{DoxyCompactItemize}
\end{Indent}
\begin{Indent}\textbf{ Definícia portov a pinov}\par
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{group__fryza__twi_ga762c164f4acd04d3ce3627fe73e7c018}{TWI\+\_\+\+PORT}}~PORTC
\begin{DoxyCompactList}\small\item\em Port, na ktorom sú piny TWI (SDA, SCL). \end{DoxyCompactList}\item 
\#define {\bfseries TWI\+\_\+\+SDA\+\_\+\+PIN}~4
\begin{DoxyCompactList}\small\item\em Pin SDA linky TWI na porte \doxylink{group__fryza__twi_ga762c164f4acd04d3ce3627fe73e7c018}{TWI\+\_\+\+PORT}. \end{DoxyCompactList}\item 
\#define {\bfseries TWI\+\_\+\+SCL\+\_\+\+PIN}~5
\begin{DoxyCompactList}\small\item\em Pin SCL linky TWI na porte \doxylink{group__fryza__twi_ga762c164f4acd04d3ce3627fe73e7c018}{TWI\+\_\+\+PORT}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\end{Indent}
\begin{Indent}\textbf{ Ďalšie definície}\par
\begin{DoxyCompactItemize}
\item 
\#define {\bfseries TWI\+\_\+\+WRITE}~0
\begin{DoxyCompactList}\small\item\em Režim zápisu na I2\+C/\+TWI zbernicu. Používa sa pri SLA+W. \end{DoxyCompactList}\item 
\#define {\bfseries TWI\+\_\+\+READ}~1
\begin{DoxyCompactList}\small\item\em Režim čítania z I2\+C/\+TWI zbernice. Používa sa pri SLA+R. \end{DoxyCompactList}\item 
\#define {\bfseries TWI\+\_\+\+ACK}~0
\begin{DoxyCompactList}\small\item\em Hodnota ACK pri odpovedi na prijatý bajt na I2\+C/\+TWI zbernici. \end{DoxyCompactList}\item 
\#define {\bfseries TWI\+\_\+\+NACK}~1
\begin{DoxyCompactList}\small\item\em Hodnota NACK pri odpovedi na prijatý bajt na I2\+C/\+TWI zbernici. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{group__fryza__twi_ga6c0346728feb274834cad94daca316ee}{DDR}}(\+\_\+x)
\begin{DoxyCompactList}\small\item\em Makro na získanie adresy registra smeru portu (DDR) z jeho PORT registra. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{group__fryza__twi_ga740f9eb9c9f9e33500ee61ec53945f6a}{PIN}}(\+\_\+x)
\begin{DoxyCompactList}\small\item\em Makro na získanie adresy vstupného registra portu (PIN) z jeho PORT registra. \end{DoxyCompactList}\end{DoxyCompactItemize}
\end{Indent}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{group__fryza__twi_ga16f0e6b2fa5a26eadbf4086ab6d54467}{twi\+\_\+init}} (void)
\begin{DoxyCompactList}\small\item\em Inicializuje TWI jednotku, zapne interné pull-\/up rezistory a nastaví frekvenciu SCL. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__fryza__twi_gaf37269da7f6b1b22438b78d2f965f274}{twi\+\_\+start}} (void)
\begin{DoxyCompactList}\small\item\em Vygeneruje podmienku Start na I2\+C/\+TWI zbernici. \end{DoxyCompactList}\item 
uint8\+\_\+t \mbox{\hyperlink{group__fryza__twi_ga129b8a79f75189c3801cb7082e6b8340}{twi\+\_\+write}} (uint8\+\_\+t data)
\begin{DoxyCompactList}\small\item\em Zapíše jeden bajt na I2\+C/\+TWI zbernicu. \end{DoxyCompactList}\item 
uint8\+\_\+t \mbox{\hyperlink{group__fryza__twi_gae9f84b771b4acdedd2106e91cb03cc78}{twi\+\_\+read}} (uint8\+\_\+t ack)
\begin{DoxyCompactList}\small\item\em Prečíta jeden bajt z I2\+C/\+TWI zbernice a potvrdí ho ACK alebo NACK. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__fryza__twi_gacf52d6c93df110dee6d402b389e5042e}{twi\+\_\+stop}} (void)
\begin{DoxyCompactList}\small\item\em Vygeneruje podmienku Stop na I2\+C/\+TWI zbernici. \end{DoxyCompactList}\item 
uint8\+\_\+t \mbox{\hyperlink{group__fryza__twi_gae830c20b3544c9619c2c316b9a578ab2}{twi\+\_\+test\+\_\+address}} (uint8\+\_\+t addr)
\begin{DoxyCompactList}\small\item\em Otestuje prítomnosť I2C zariadenia na zbernici. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__fryza__twi_gacf2027b11accf8c8a40502c60dd1b76f}{twi\+\_\+readfrom\+\_\+mem\+\_\+into}} (uint8\+\_\+t addr, uint8\+\_\+t memaddr, volatile uint8\+\_\+t \texorpdfstring{$\ast$}{*}buf, uint8\+\_\+t nbytes)
\begin{DoxyCompactList}\small\item\em Prečíta blok dát z pamäte periférie do bufferu, počnúc danou adresou. \end{DoxyCompactList}\end{DoxyCompactItemize}
